<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>03 - let, const, block scoping</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="../css/prism.css">
    <link rel="stylesheet" href="../css/customized.css">
</head>
    <section>
        <section class="container">
            <a href="/">Go back</a>
            <h1 class="page-header">03 - let, const, block scoping</h1>

            <!-- Code Block -->
            <h2>1. var</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        console.log(productId);
                        var productId = 12;
                    </code>
                </pre>
                <pre id="var" class="transparent"></pre>
            </section>

            <hr />

            <!-- Code Block -->
            <h2>2. let</h2>
            <section class="zero-clipboard">
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        console.log(pId);
                        let pId = 12;
                    </code>
                </pre>
                <pre id="let" class="transparent"></pre>
            </section>

            <hr />

            <!-- Code Block -->
            <h2>3 block scoping</h2>
            <h3>3a.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        let pId = 12;
                        {
                            let pId = 2000;
                        }
                        console.log(pId);
                    </code>
                </pre>
                <pre id="block1" class="transparent"></pre>
            </section>

            <hr />

            <!-- Code Block -->
            <h3>3b.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        function updateProductId() {
                            memberId = 15;
                        }

                        let memberId = null;
                        updateProductId();
                        console.log(memberId);
                    </code>
                </pre>
                <pre id="block2" class="transparent"></pre>
            </section>

            <hr />

            <!-- Code Block -->
            <h3>3c.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        let userId = 42;
                        for (let userId = 0; userId < 10; userId++) {
                        }
                        console.log(userId);
                    </code>
                </pre>
                <pre id="block3" class="transparent"></pre>
            </section>

            <hr />

            <!-- Code Block -->
            <h3>3d. block scoping - "var" v "let"</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        var updateFunctions = [];
                        for (var i=0; i < 2; i++) {
                            updateFunctions.push(function(){ return i;});
                        }

                        console.log(updateFunctions[0]());

                        _________________________________________________________

                        let updateFunctions = [];
                        for (let i=0; i < 2; i++) {
                            updateFunctions.push(function(){ return i;});
                        }

                        console.log(updateFunctions[0]());
                    </code>
                </pre>
                <pre id="block4" class="transparent"></pre>
            </section>

            <!-- Code Block -->
            <h3>3e. block scoping - const</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        const MARKUP_PCT = 100;
                        console.log(MARKUP_PCT);
                        _________________________________________________________
                        const TOTAL_PRODUCTS;
                        console.log(TOTAL_PRODUCTS);
                        _________________________________________________________
                        MARKUP_PCT = 10;
                        console.log(MARKUP_PCT);
                        _________________________________________________________
                        const CHILD_AGE = 5;
                        if(CHILD_AGE > 0) {
                            const CHILD_AGE = 7;
                        }
                        console.log(CHILD_AGE);
                    </code>
                </pre>
                <pre id="block5" class="transparent"></pre>
            </section>

            <!-- Code Block -->
            <h2>4 Arrow Functions</h2>
            <h3>4a.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        // Empty parenthesis `()` when no input is supplied
                        var getPrice = () => 5.99;
                        console.log(typeof getPrice);

                        _________________________________________________________
                        console.log(getPrice());

                        _________________________________________________________
                        // no parenthesis `()` when 1 input is supplied
                        var getPrice = count => count * 4;
                        console.log(getPrice(4));

                        _________________________________________________________
                        // 1. parenthesis `()` when 2 inputs are supplied.
                        // 2. no curly braces if there is only 1 expression.
                        var getPrice = (count, tax) => count * 4 * (1 + tax);
                        console.log(getPrice(2, 0.07));

                        _________________________________________________________
                        // Curly braces OR block is used if there is more than 1 line expressions.
                        var getPrice = (count, tax) => {
                            var price = count * 4.00;
                            price *= ( 1 + tax);
                            return price;
                        }
                        console.log(getPrice(2, 0.07));

                        _________________________________________________________

                    </code>
                </pre>
                <pre id="block6" class="transparent"></pre>
            </section>

            <h3>4b.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        // ES5 way will give `#document`
                        document.addEventListener('click', function() {
                            console.log(this);
                        });
                        _________________________________________________________
                        // ES6 way will give `Window {...}` object
                        document.addEventListener('click', () => console.log(this));
                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block7" class="transparent"></pre>
            </section>

            <h3>4c.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        // will give `{number: 123}`
                        var invoice = {
                            number: 123,
                            process: function() {
                                console.log(this);
                            }
                        };
                        invoice.process();
                        _________________________________________________________
                        // will give `Window {...}` object
                        var invoice = {
                            number: 123,
                            process: () => console.log(this);
                        };
                        invoice.process();

                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block8" class="transparent"></pre>
            </section>

            <h3>4d.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        var invoice = {
                            number: 123,
                            process: function() {
                                return function() {
                                    console.log(this.number);
                                }
                            }
                        };
                        invoice.process()();

                        _________________________________________________________
                        var invoice = {
                            number: 123,
                            process: function() {
                                return () => console.log(this.number);
                            }
                        };
                        invoice.process()();
                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block9" class="transparent"></pre>
            </section>

            <h3>4e.</h3>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        var invoice = {
                            number: 123,
                            process: function() {
                                return () => console.log(this.number);
                            }
                        };
                        var newInvoice = {
                            number: 456
                        }
                        // You can't bind an object with an arrow function
                        invoice.process().bind(newInvoice)();

                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block10" class="transparent"></pre>
            </section>
        </div>
        <script src="../node_modules/jquery/dist/jquery.min.js"></script>
        <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="../node_modules/traceur/bin/traceur.js"></script>
        <script src="../node_modules/traceur/bin/BrowserSystem.js"></script>
        <script src="../node_modules/traceur/src/bootstrap.js"></script>
        <script src="../js/prism.js"></script>
        <script src="../js/customized.js"></script>
        <script src="js/script.js"></script>
    </body>
</html>