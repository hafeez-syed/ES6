<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>03.03 - Arrow Functions</title>
    <script src="../js/customized.js"></script>


    <!--
    *******************************************
    *******************************************
    *******************************************
            HEADER SCRIPTS - STARTS
    *******************************************
    *******************************************
    *******************************************
    -->
    <script>
        headerScript();
    </script>
    <!--
    *******************************************
    *******************************************
    *******************************************
            HEADER SCRIPTS - ENDS
    *******************************************
    *******************************************
    *******************************************
    -->

</head>
<body>
        <div class="container" data-chapter="3">
            <div class="page-link-header"></div>
            <h1 class="page-header">03.03 - Arrow Functions</h1>

            <!-- Code Block -->
            <h2>03.03a.</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        // Empty parenthesis `()` when no input is supplied
                        var getPrice = () => 5.99;
                        console.log(typeof getPrice);

                        _________________________________________________________
                        console.log(getPrice());

                        _________________________________________________________
                        // no parenthesis `()` when 1 input is supplied
                        var getPrice = count => count * 4;
                        console.log(getPrice(4));

                        _________________________________________________________
                        // 1. parenthesis `()` when 2 inputs are supplied.
                        // 2. no curly braces if there is only 1 expression.
                        var getPrice = (count, tax) => count * 4 * (1 + tax);
                        console.log(getPrice(2, 0.07));

                        _________________________________________________________
                        // Curly braces OR block is used if there is more than 1 line expressions.
                        var getPrice = (count, tax) => {
                            var price = count * 4.00;
                            price *= ( 1 + tax);
                            return price;
                        }
                        console.log(getPrice(2, 0.07));

                        _________________________________________________________

                    </code>
                </pre>
                <pre id="block1" class="transparent"></pre>
            </section>

            <h2>03.03b.</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        // ES5 way will give `#document`
                        document.addEventListener('click', function() {
                            console.log(this);
                        });
                        _________________________________________________________
                        // ES6 way will give `Window {...}` object
                        document.addEventListener('click', () => console.log(this));
                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block2" class="transparent"></pre>
            </section>

            <h2>03.03c.</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        // will give `{number: 123}`
                        var invoice = {
                            number: 123,
                            process: function() {
                                console.log(this);
                            }
                        };
                        invoice.process();
                        _________________________________________________________
                        // will give `Window {...}` object
                        var invoice = {
                            number: 123,
                            process: () => console.log(this);
                        };
                        invoice.process();

                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block3" class="transparent"></pre>
            </section>

            <h2>03.03d.</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        var invoice = {
                            number: 123,
                            process: function() {
                                return function() {
                                    console.log(this.number);
                                }
                            }
                        };
                        invoice.process()();

                        _________________________________________________________
                        var invoice = {
                            number: 123,
                            process: function() {
                                return () => console.log(this.number);
                            }
                        };
                        invoice.process()();
                        _________________________________________________________
                    </code>
                </pre>
                <pre id="block4" class="transparent"></pre>
            </section>

            <h2>03.03e.</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        var invoice = {
                            number: 123,
                            process: () => console.log(this);
                        };
                        var newInvoice = {
                            number: 456
                        }

                        invoice.process.bind(newInvoice)();
                        _________________________________________________________
                        var invoice = {
                            number: 123,
                            process: function() {
                                return () => console.log(this.number);
                            }
                        };
                        var newInvoice = {
                            number: 456
                        }
                        // Result: 123.
                        // You can't bind an new object with an arrow function
                        // hence value of `this` wont change
                        invoice.process().bind(newInvoice)();

                        _________________________________________________________
                        // Result: 123.
                        // With arrow functions, you can't use bind, call or apply.
                        invoice.process().call(newInvoice);
                    </code>
                </pre>
                <pre id="block5" class="transparent"></pre>
            </section>

            <h2>03.03f. Fat arrow symbol on new line</h2>
            <section>
                <pre class="line-numbers language-javascript">
                    <code class="language-javascript">
                        var getPrice = ()
                            => 5.99;
                        console.log(typeof getPrice);

                        _________________________________________________________
                        // Unlike ES5, in ES6 when we declare a function with fat arrows `=>`,
                        // we do not have access to `prototype` field
                        var getPrice = () => 5.99;
                        console.log(getPrice.hasOwnProperty("prototype");
                    </code>
                </pre>
                <pre id="block6" class="transparent"></pre>
            </section>

            <div class="page-link-footer"></div>
        </div>

        <!--
        *******************************************
        *******************************************
        *******************************************
                FOOTER SCRIPTS - STARTS
        *******************************************
        *******************************************
        *******************************************
        -->
        <script>
            footerScript();
        </script>
        <!--
        *******************************************
        *******************************************
        *******************************************
                FOOTER SCRIPTS - ENDS
        *******************************************
        *******************************************
        *******************************************
        -->

        <script src="js/script.3.3.js"></script>
        <script>
            var content = {
                prevSection: '3.2',
                prevTitle: 'Let, const, block scoping',
                nextSection: '3.4',
                nextTitle: 'Default Function Parameters'
            };
            addLinks(content);
        </script>
    </body>
</html>